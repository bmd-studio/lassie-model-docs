<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Ollie_model</title>

	<link rel="stylesheet" href="resources/style.css?e99947befd7bf673c6b43ff75e9e0f170c88a60e">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
		</div>



		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Account_model.html">Account_model</a></li>
				<li><a href="class-Api_client_model.html">Api_client_model</a></li>
				<li><a href="class-Api_model.html">Api_model</a></li>
				<li><a href="class-Bar_activity_model.html">Bar_activity_model</a></li>
				<li><a href="class-Cronjob_model.html">Cronjob_model</a></li>
				<li><a href="class-Currency_model.html">Currency_model</a></li>
				<li><a href="class-Definition_model.html">Definition_model</a></li>
				<li><a href="class-Development_model.html">Development_model</a></li>
				<li><a href="class-Event_model.html">Event_model</a></li>
				<li><a href="class-Form_model.html">Form_model</a></li>
				<li><a href="class-Group_model.html">Group_model</a></li>
				<li><a href="class-Import_model.html">Import_model</a></li>
				<li><a href="class-Ion_auth_model.html">Ion_auth_model</a></li>
				<li><a href="class-Log_model.html">Log_model</a></li>
				<li><a href="class-Manager_model.html">Manager_model</a></li>
				<li><a href="class-Matchmaker_model.html">Matchmaker_model</a></li>
				<li><a href="class-Membership_model.html">Membership_model</a></li>
				<li><a href="class-Migration_model.html">Migration_model</a></li>
				<li><a href="class-Module_model.html">Module_model</a></li>
				<li class="active"><a href="class-Ollie_model.html">Ollie_model</a></li>
				<li><a href="class-Owis_model.html">Owis_model</a></li>
				<li><a href="class-Person_model.html">Person_model</a></li>
				<li><a href="class-Pool_model.html">Pool_model</a></li>
				<li><a href="class-Rental_model.html">Rental_model</a></li>
				<li><a href="class-Report_model.html">Report_model</a></li>
				<li><a href="class-Setting_model.html">Setting_model</a></li>
				<li><a href="class-Syncer_model.html">Syncer_model</a></li>
				<li><a href="class-Transaction_model.html">Transaction_model</a></li>
				<li><a href="class-Treasurer_model.html">Treasurer_model</a></li>
				<li><a href="class-Upload_model.html">Upload_model</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Ollie_model</h1>


	<div class="description">
	<p>Ollie Model is an experimental implementation of allowing offline versions of the framework to be exported and used locally. The data can be synced later on after usage.</p>

<p>This model will automatically export all tables containing the create_timestamp, update_timestamp and unique_id fields.
These timestamp indicate when the record has been created and updated where will we decide on if the data needs
to be exported for the Lassie database. With the unique id field we can check on duplicate imports.</p>

<p>NOTE: most of the MYSQL versions are not capable of handling multiple NOW() timestamp variables in one table.
However, there is a workaround, when a timestamp is defined as 'NOT NULL DEFAULT 0' and is interted with 'NULL'
MYSQL will then generate the current timestamp into that field. We are now using this principle in the Form Library.</p>

<p>SQL for adding these fields:
ALTER TABLE table_name ADD create_timestamp TIMESTAMP NOT NULL DEFAULT 0,
ADD update_timestamp TIMESTAMP DEFAULT NOW() ON UPDATE NOW(),
ADD COLUMN <code>unique_id</code> VARCHAR(32);</p>

<p>Update to make sure create_timestamp is NOW() and the unique id is set (Boris Helper).
This is now done automatically in the Form Library on a new record insert:
$this->db->update(table_name, array('create_timestamp' => NULL, 'unique_id' => generate_unique_id()));</p>
	</div>

	<dl class="tree">
		<dd style="padding-left:0px">
Boris_Model
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>Ollie_model</span></b>			
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		
		

			<b>Located at</b> <a href="source-class-Ollie_model.html#3-555" title="Go to source code">Ollie_model.php</a>
		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="init_model" id="_init_model">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_init_model">#</a>
		<code><a href="source-class-Ollie_model.html#40-48" title="Go to source code">init_model</a>( )</code>

		<div class="description short">
			<p>Initialize</p>
		</div>

		<div class="description detailed hidden">
			<p>Initialize</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_dependencies" id="_get_dependencies">

		<td class="attributes"><code>
			 public static

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_dependencies">#</a>
		<code><a href="source-class-Ollie_model.html#50-60" title="Go to source code">get_dependencies</a>( )</code>

		<div class="description short">
			<p>Get the dependencies</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the dependencies</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="export_ollie_database" id="_export_ollie_database">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_export_ollie_database">#</a>
		<code><a href="source-class-Ollie_model.html#66-160" title="Go to source code">export_ollie_database</a>( <span> <var>$csv_export_path</var></span> )</code>

		<div class="description short">
			<p>Export the Ollie database to CSV</p>
		</div>

		<div class="description detailed hidden">
			<p>Export the Ollie database to CSV</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_links" id="_get_links">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_links">#</a>
		<code><a href="source-class-Ollie_model.html#215-225" title="Go to source code">get_links</a>( )</code>

		<div class="description short">
			<p>Get all the links</p>
		</div>

		<div class="description detailed hidden">
			<p>Get all the links</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_links_by_table" id="_get_links_by_table">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_links_by_table">#</a>
		<code><a href="source-class-Ollie_model.html#227-244" title="Go to source code">get_links_by_table</a>( <span> <var>$table_name</var></span>, <span> <var>$field_name</var></span> )</code>

		<div class="description short">
			<p>Get all the links for a specific table and field name</p>
		</div>

		<div class="description detailed hidden">
			<p>Get all the links for a specific table and field name</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="import_ollie_database" id="_import_ollie_database">

		<td class="attributes"><code>
			 protected 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_import_ollie_database">#</a>
		<code><a href="source-class-Ollie_model.html#272-331" title="Go to source code">import_ollie_database</a>( <span> <var>$csv_export_path</var></span> )</code>

		<div class="description short">
			<p>Import the Ollie database into Lassie</p>
		</div>

		<div class="description detailed hidden">
			<p>Import the Ollie database into Lassie</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_insert_counter" id="_get_insert_counter">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_insert_counter">#</a>
		<code><a href="source-class-Ollie_model.html#464-469" title="Go to source code">get_insert_counter</a>( )</code>

		<div class="description short">
			<p>Get the amount of new records inserted with its original record id</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the amount of new records inserted with its original record id</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_update_counter" id="_get_update_counter">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_update_counter">#</a>
		<code><a href="source-class-Ollie_model.html#471-476" title="Go to source code">get_update_counter</a>( )</code>

		<div class="description short">
			<p>Get the amount of records updated with new data</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the amount of records updated with new data</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_incremental_insert_counter" id="_get_incremental_insert_counter">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_incremental_insert_counter">#</a>
		<code><a href="source-class-Ollie_model.html#478-483" title="Go to source code">get_incremental_insert_counter</a>( )</code>

		<div class="description short">
			<p>Get the amount of records inserted with a new record id</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the amount of records inserted with a new record id</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_override_counter" id="_get_override_counter">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_override_counter">#</a>
		<code><a href="source-class-Ollie_model.html#485-490" title="Go to source code">get_override_counter</a>( )</code>

		<div class="description short">
			<p>Get the amount of fields overriden, because of new parent record ids</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the amount of fields overriden, because of new parent record ids</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="get_skip_counter" id="_get_skip_counter">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_get_skip_counter">#</a>
		<code><a href="source-class-Ollie_model.html#492-497" title="Go to source code">get_skip_counter</a>( )</code>

		<div class="description short">
			<p>Get the amount of records skipped, because they were already imported</p>
		</div>

		<div class="description detailed hidden">
			<p>Get the amount of records skipped, because they were already imported</p>







		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
